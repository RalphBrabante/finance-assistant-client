<app-dashboard-header />
<main>
  <div class="container my-4" id="receipt">
    <ng-container *ngIf="loading(); else showContent">
      <!-- Placeholder while loading -->
      <div class="card" aria-hidden="true">
        <div class="card-body">
          <h5 class="card-title placeholder-glow">
            <span class="placeholder col-6"></span>
          </h5>
          <p class="card-text placeholder-glow">
            <span class="placeholder col-7"></span>
            <span class="placeholder col-4"></span>
            <span class="placeholder col-4"></span>
            <span class="placeholder col-6"></span>
            <span class="placeholder col-8"></span>
          </p>
          <a class="btn btn-primary disabled placeholder col-6"></a>
        </div>
      </div>
    </ng-container>

    <ng-template #showContent>
      <ng-content>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb bg-light p-3 rounded shadow-sm mb-4">
            <li class="breadcrumb-item">
              <a routerLink="../" class="text-decoration-none text-primary">
                <i class="bi bi-credit-card me-1"></i> Transactions
              </a>
            </li>
            <li class="breadcrumb-item active fw-semibold" aria-current="page">
              Transaction #{{ transactionData()?.id }}
            </li>
          </ol>
        </nav>
        <div class="card shadow-sm border-0">
          <div class="card-body p-4">
            <!-- Header -->
            <div
              class="d-flex justify-content-between align-items-center border-bottom pb-3 mb-3"
            >
              <h4 class="fw-bold mb-0">Transaction Receipt</h4>
              <small class="text-muted">#{{ transactionData()?.id }}</small>
            </div>

            <!-- Transaction Details -->
            <div class="row mb-3">
              <div class="col-md-6">
                <p class="mb-1">
                  <strong>Name:</strong> {{ transactionData()?.name }}
                </p>
                <p class="mb-1">
                  <strong>Type:</strong> {{ transactionData()?.type }}
                </p>
                <p class="mb-1">
                  <strong>Amount:</strong>
                  {{ transactionData()?.amount | currency : "PHP" }}
                </p>
                <p class="mb-1">
                  <strong>Ending Balance:</strong>
                  {{ transactionData()?.endingBalance | currency : "PHP" }}
                </p>
              </div>
              <div class="col-md-6">
                <p class="mb-1">
                  <strong>Bank / Wallet:</strong>
                  {{ transactionData()?.originBankOrWallet?.name }}
                </p>
                <p class="mb-1">
                  <strong>Account No:</strong>
                  {{ transactionData()?.originBankOrWallet?.accountNo }}
                </p>
                <p class="mb-1">
                  <strong>Date:</strong>
                  {{ transactionData()?.createdAt | date : "short" }}
                </p>
              </div>
            </div>

            <!-- Footer -->
            <div class="text-center border-top pt-3">
              <small class="text-muted"
                >This receipt was generated electronically and is valid without
                a signature.</small
              >
            </div>
          </div>
        </div>

        <!-- Print Button -->
        <div class="text-center mt-3">
          <button class="btn btn-primary px-4" onclick="window.print()">
            <i class="bi bi-printer"></i> Print Receipt
          </button>
        </div>
      </ng-content>
    </ng-template>
  </div>
</main>
